\documentclass{report}
\usepackage{res/noweb}
\usepackage{res/jargo}
\usepackage[a4paper,margin=1in]{geometry}
\usepackage[colorlinks=true]{hyperref}
\usepackage{adjustbox}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{booktabs}
\usepackage{caption}
\usepackage{colortbl}
\usepackage{enumitem}
\usepackage{etoc}
\usepackage{mdframed}
\usepackage{multicol}
\usepackage{multirow}
\usepackage{tikzpagenodes}
\usepackage{tikz}

\noweboptions{smallcode,longchunks}

\newcommand{\jsVersion}{1.0.0}

\newcommand{\hi}[1]{\noindent {\bf #1}}     % Define a handy paragraph opener

\def\nwendcode{\endtrivlist \endgroup}      % Remove noweb page break penalty
\let\nwdocspar=\par

\theoremstyle{definition}                   % Define an "example" environment
\newtheorem{example}{Example}

\definecolor{TableTitle}{rgb}{0.900, 0.900, 0.900}  % Define colors for tables
\definecolor{TableHeader}{rgb}{0.900, 0.900, 0.900}

\captionsetup{labelfont={bf},textfont={bf,it}}
\setlength{\abovecaptionskip}{1mm}
\setlength{\belowcaptionskip}{1mm}

\title{
  $
  \begin{array}{l}
  \includegraphics[width=12mm]{res/icon}
  \end{array}
  $
  Jargo:\\
  \large{\textbf{\textit{Real-time stochastic ridesharing simulator}}}\\
  \vspace{0.25em}
  \small{\url{https://github.com/jargors}}\\
  \vspace{2em}
  {
    \small
    \begin{tabular}{lp{.6\textwidth}}
    \toprule
    Ch. 1 &\hyperref[ch-tutorial]{Tutorial}\\
    Ch. 2 &\hyperref[ch-model]{Ridesharing Model}\\
    Ch. 3 &\hyperref[ch-simulator]{Jargo Simulator}\\
    Ch. 4 &\hyperref[ch-evaluators]{Evaluators}\\
    Ch. 5 &\hyperref[ch-troubleshooting]{Troubleshooting}\\
    \bottomrule
    \end{tabular}
  }
}
\author{
  \small{Ver. \jsVersion: James J. Pan (\href{mailto:pan-j16@mails.tsinghua.edu.cn}{pan-j16@mails.tsinghua.edu.cn})}
}

\begin{document}
\maketitle
\pagestyle{noweb}

\renewcommand{\thepage}{\roman{page}}
\setcounter{page}{1}

\setcounter{tocdepth}{1}
\addcontentsline{toc}{chapter}{Contents}
\tableofcontents
\setcounter{tocdepth}{3}

\input{doc/autogenerated.tex}

%\part*{Appendices}
%\label{ch-appendices}

\appendix

\chapter{Appendix: Brief Primer on Relations}
\label{ap-primer}

Relations can be defined in terms of sequences and tuples.  A sequence is an
ordered list of elements.  In this document, the integer sequence from $i$ to
$j$ is written as $i..j$. The sequence $$(a_i)_{i\in
1..n}=a_1,a_2,...,a_{n-1},a_n$$ is written as $a_1..a_n$ or simply $a$ (without
any subscript). The number of elements in $a$ is called the length of $a$ and
is expressed as $|a|$.  A copy $b$ of sequence $a$ but with some elements
removed is called a subsequence.  Sequence $b$ is called a substring of $a$
only if some $k$ exists such that $$b=a_{1+k}..a_{|b|+k},$$ in other words the
elements in $b$ form a contiguous subsequence of $a$.  Sequence $a$ is called a
tuple if each element of $a$ is labeled. A labeled element is called a
component.  A function mapping an element based on its position in the tuple to
a label is called a labeling scheme.  Each component has a domain from which
the component takes its value, for example the set of real numbers.  A tuple of
length $m$ is called an $m$-tuple. A 2-tuple is called a pair.  A tuple
definition is written here as its labels surrounded by parentheses with the
domains given. Label names are written in \texttt{typewriter} script to avoid
confusion with positional indices.

\begin{example}
\label{ex:tuple}
The sequence $a=a_\texttt{x},a_\texttt{y}$ is a 2-tuple with components named
\texttt{x} and \texttt{y}.  The labeling scheme for $a$ maps $1\rightarrow
\texttt{x}$ and $2\rightarrow \texttt{y}$, with the integers $1$ and $2$
referring to the position of the elements. A possible definition for $a$ could
be $a:=(\texttt{x},\texttt{y}), a_\texttt{x}\in\mathbb{R},
a_\texttt{y}\in\{\textrm{pi},\textrm{Euler}\},$ and a possible value for $a$
could be $$a=3.14,\textrm{pi}.$$
\end{example}

A set of unique $m$-tuples with the same labeling scheme is called an $m$-ary
relation, or simply relation. Two operators can be applied onto
relations\footnote{Jargo's ridesharing model does not use joins.}. The
selection operator $\sigma_P(R)$ is a function that returns a subset
$R'\subseteq R$ such that predicate $P(R'_i)$ is true for each tuple $R'_i\in
R'$.  The projection operator $\pi_L(R)$ is a function that returns a copy $R'$
of $R$ such that each tuple $R'_i\in R'$ is distinct, and only components with
a label in set $L$ are included.

Observe that an $m$-tuple is an $m$-ary relation with one element.  The
projection operator thus naturally applies to tuples. For instance, see that
for $R=R_\texttt{x},R_\texttt{y}:=(\texttt{x},\texttt{y}),$ the $\texttt{x}$
component is extracted with $R_\texttt{x}=\pi_\texttt{x}(R)$ and the
$\texttt{y}$ component is extracted with $R_\texttt{y}=\pi_\texttt{y}(R)$.

\chapter{Appendix: List of Chunks}
\nowebchunks

\chapter{Appendix: List of Identifiers}
\nowebindex

\end{document}

